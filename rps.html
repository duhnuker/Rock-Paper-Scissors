<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>

    let playerScore = 0;
    let compScore = 0;

    function getComputerChoice() {
        let randomValue = Math.floor(Math.random()*3); //random value range 0-3//

        if (randomValue === 0) {
            return 'rock';
        } else if (randomValue === 1) {
            return 'paper'; 
        } else {
            return 'scissors';
        }
    }


    //Takes user input, converts to lowercase viable input otherwise asks again for a valid input)//
    function playerSelection(userInput) {
        if (userInput.toLowerCase() === 'rock') {
            return userInput;
        } else if (userInput.toLowerCase() === 'paper') {
            return userInput;
        } else if (userInput.toLowerCase() === 'scissors') {
            return userInput;
        } else {console.log('That is not a valid option.')}
    };


    //User input is compared to randomly selected computerSelection to determine who wins the round. +1 is added to
    //whoever the winner of the round, that being playerScore or compScore. is. A console log is also returned presenting the result in
    //the players pov
    function playRound(playerSelection, computerSelection) {
        switch (playerSelection) {
            case 'rock':
                if (computerSelection == 'rock') {
                    return console.log('Draw!');
                } else if (computerSelection == 'paper') {
                    compScore++;
                    return console.log('You lose! Paper beats rock');
                } else {
                    playerScore++;
                    return console.log('You win! Rock beats Scissors');
                }
                break;
            case 'paper':
                if (computerSelection == 'paper') {
                    return console.log('Draw!');
                } else if (computerSelection == 'scissors') {
                    compScore++;
                    return console.log('You lose! Scissors beats Paper');
                } else {
                    playerScore++;
                    return console.log('You win! Paper beats Rock');
                }
                break;
            case 'scissors':
                if (computerSelection == 'scissors') {
                    return console.log('Draw!');
                } else if (computerSelection == 'rock') {
                    compScore++;
                    return console.log('You lose! Rock beats Scissors');
                } else {
                    playerScore++;
                    return console.log('You win! Scissors beats Paper');
                }
                break;
        }
    }

    //Making use of the other established functions, the game function uses a for loop that makes it so the functions are repeated
    //5 times. This function prompts for userinput, takes the generated computer selection and plays the rounds.
    //A console log is also returned each round updating the score
    //After the for loop is done, the winner, or a tie is returned finally
    function game() {
        for (let i = 0; i < 5; i++) {
            let playerSelection = prompt('Please type in your selection', 'Rock, Paper, Scissors').toLowerCase();
            let computerSelection = getComputerChoice();
            playRound(playerSelection, computerSelection);
            console.log('Your score: ' + playerScore);
            console.log('Computer score: ' + compScore);
        }

        if (playerScore > compScore) {
            return 'You beat the Computer! Well Done!';
        } else if (playerScore < compScore) {
            return 'You lost to the Computer! Bad luck!';
        } else {
            return 'It is a tie!';
        }
    }

    console.log(game());

    </script>
    
</body>
</html>